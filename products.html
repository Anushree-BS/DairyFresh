<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EQ8M98S07X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EQ8M98S07X');
</script>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DairyFresh • Products</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f6f7fb; --card:#fff; --muted:#6b7280; --accent:#0b1320; --accent-2:#0b7a66; --glass:rgba(11,19,32,0.04); --radius:12px;
  }
  *{box-sizing:border-box;font-family:Inter,system-ui,Arial;}
  body{margin:0;background:var(--bg);color:var(--accent);min-height:100vh;}
  header{display:flex;align-items:center;justify-content:space-between;padding:18px 48px;}
  .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:var(--accent)}
  nav a{color:var(--accent);text-decoration:none;font-weight:600;padding:8px 12px;border-radius:10px}
  .wrap{padding:20px 48px}
  h1{margin:6px 0 18px 0}
  .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
  .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 14px 40px var(--glass);display:flex;flex-direction:column;align-items:center;gap:10px}
  .card img{width:100%;height:160px;object-fit:cover;border-radius:8px}
  .title{font-weight:700;text-align:center}
  .price{color:var(--muted)}
  .actions{display:flex;gap:8px;margin-top:8px}
  .btn{padding:10px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .add{background:var(--accent-2);color:white}
  .view{background:transparent;border:1px solid rgba(11,19,32,0.06)}
  .searchWrap{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
  .search{padding:10px 12px;border-radius:10px;border:1px solid rgba(11,19,32,0.06);width:420px}
  footer{padding:20px 48px;color:var(--muted)}
  @media (max-width:1000px){ .grid{grid-template-columns:repeat(2,1fr)} .search{width:220px} }
  @media (max-width:640px){ header{padding:12px} .wrap{padding:12px} .grid{grid-template-columns:1fr} }
</style>
</head>
<body>

<header>
  <a class="brand" href="index.html" style="text-decoration:none;color:inherit">
    <svg width="44" height="44" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill="none" stroke="#0b1320" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 30c0-6 6-12 13-12 3 0 6 .9 8.5 2.6C36 22 39 23 42 23c6 0 12 6 12 12 0 3-1 6-3 8-3 3-9 5-16 5H24c-6 0-12-5-12-10 0-3 0-6 3-8z"/></g></svg>
  </a>
  
  <nav>
    <a href="index.html">Home</a>
    <a href="cart.html">Cart</a>
  </nav>
</header>

<main class="wrap">
  <div class="searchWrap">
    <h1>All Products</h1>
    <input id="search" class="search" placeholder="Search products (milk, paneer, cheese...)" />
  </div>

  <section class="grid" id="productGrid"></section>

  <div style="margin-top:18px;display:flex;justify-content:flex-end">
    <a href="cart.html" class="btn view" style="text-decoration:none;padding:10px 14px">Go to Cart</a>
  </div>
</main>

<footer>© <span id="year2"></span> DairyFresh</footer>

<script>
/* Product data — real product-specific images from Unsplash */
const PRODUCTS = [
  {id:'milk', title:'Fresh Milk (1L)', price:60, img:'https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=0b05b6d8c8a2b1a2a3f4a3e7c5f6b2b2'},
  {id:'curd', title:'Creamy Curd (500g)', price:55, img:'https://images.unsplash.com/photo-1617191514159-2b1e85ea0b0f?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=4d2160e9dbd9a3e6d7f6fbc9f3c4c3b1'},
  {id:'cheese', title:'Aged Cheese (200g)', price:220, img:'https://images.unsplash.com/photo-1605475120913-2d6cae8c4f6a?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=5f7b9d2c3ab4c5d6e7f8a9b0c1d2e3f4'},
  {id:'butter', title:'Creamy Butter (200g)', price:120, img:'https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3&s=0b05b6d8c8a2b1a2a3f4a3e7c5f6b2b2'},
  {id:'ghee', title:'Pure Ghee (250g)', price:260, img:'https://images.unsplash.com/photo-1626406590129-df6d85c6fb1b?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1a2b3c4d5e6f708091a2b3c4d5e6f708'},
  {id:'paneer', title:'Paneer (500g)', price:180, img:'https://images.unsplash.com/photo-1589308078051-52b6b6c5f6d7?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=ff1e2d3c4b5a6987f6e5d4c3b2a19080'},
  {id:'cream', title:'Fresh Cream (250g)', price:130, img:'https://images.unsplash.com/photo-1550583724-b2693f9ad1c8?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e'},
  {id:'chocolates', title:'Milk Chocolates (200g)', price:150, img:'https://images.unsplash.com/photo-1606813902873-58f0d0d4f6ff?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=abbccddee11223344556677889900aabb'}
];

const grid = document.getElementById('productGrid');
function render(filter=''){
  grid.innerHTML='';
  const items = PRODUCTS.filter(p => p.title.toLowerCase().includes(filter.toLowerCase()) || p.id.includes(filter.toLowerCase()));
  items.forEach(p=>{
    const el = document.createElement('div'); el.className='card';
    el.innerHTML = `
      <img src="${p.img}" alt="${p.title}" onerror="this.src='https://via.placeholder.com/400x300?text=Image+not+found'">
      <div class="title">${p.title}</div>
      <div class="price">₹${p.price}</div>
      <div class="actions">
        <button class="btn add" data-id="${p.id}">Add to cart</button>
        <button class="btn view" onclick="window.location='cart.html'">View cart</button>
      </div>
    `;
    grid.appendChild(el);
  });
  attachAdd();
}
render();

document.getElementById('search').addEventListener('input', (e)=> render(e.target.value.trim()));

/* Add to cart (localStorage) */
function attachAdd(){
  document.querySelectorAll('.btn.add').forEach(b=>{
    b.onclick = ()=>{
      const id = b.getAttribute('data-id');
      const prod = PRODUCTS.find(x=>x.id===id);
      if(!prod) return;
      let cart = JSON.parse(localStorage.getItem('df_cart')||'[]');
      const found = cart.find(i=>i.id===id);
      if(found) found.qty = (found.qty||1) + 1;
      else cart.push({id:prod.id,title:prod.title,price:prod.price,img:prod.img,qty:1});
      localStorage.setItem('df_cart', JSON.stringify(cart));
      b.textContent='Added ✓';
      setTimeout(()=>b.textContent='Add to cart',900);
      try{ updateBadge(); }catch{}
    };
  });
}

/* badge update */
function updateBadge(){
  try{ const cart = JSON.parse(localStorage.getItem('df_cart')||'[]'); const count = cart.reduce((s,i)=>s+(i.qty||1),0); document.getElementById('badge').textContent = count; }catch(e){console.error(e);}
}
updateBadge();
document.getElementById('year2').textContent = new Date().getFullYear();
</script>
</body>
</html>
